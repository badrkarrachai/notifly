# ====================================
# Notifly Configuration — .env.example
# ====================================
# Copy this file to .env and fill in real values.

# Server
NOTIFLY_SERVER_PORT=8081
NOTIFLY_SERVER_MODE=debug

# Auth — API keys for authenticating client apps (comma-separated for multi-app)
NOTIFLY_AUTH_API_KEYS=your-secret-api-key-here

# Email Provider
NOTIFLY_EMAIL_PROVIDER=resend
NOTIFLY_EMAIL_API_KEY=re_your_resend_api_key
NOTIFLY_EMAIL_FROM_ADDRESS=noreply@yourdomain.com
NOTIFLY_EMAIL_FROM_NAME=YourApp

# CORS
NOTIFLY_CORS_ALLOWED_ORIGINS=http://localhost:3000

# Rate Limiting (per-IP)
NOTIFLY_RATE_LIMIT_REQUESTS_PER_SECOND=10
NOTIFLY_RATE_LIMIT_BURST=20

# Redis (used for async queue + recipient rate limiting)
NOTIFLY_REDIS_ADDRESS=localhost:6379
NOTIFLY_REDIS_PASSWORD=
NOTIFLY_REDIS_DB=0

# Supabase (used for notification logs persistence)
NOTIFLY_SUPABASE_URL=https://your-project.supabase.co
NOTIFLY_SUPABASE_SERVICE_KEY=your-supabase-service-role-key

# Queue (asynq worker settings)
NOTIFLY_QUEUE_CONCURRENCY=10
NOTIFLY_QUEUE_MAX_RETRY=5
NOTIFLY_QUEUE_RETRY_DELAY_SEC=30

# Per-Recipient Rate Limiting
NOTIFLY_RECIPIENT_RATE_LIMIT_MAX_PER_HOUR=3

# Stale Task Reaper (production reliability)
NOTIFLY_REAPER_INTERVAL_SEC=300
NOTIFLY_REAPER_STALE_THRESHOLD_SEC=600
NOTIFLY_REAPER_BATCH_SIZE=50
